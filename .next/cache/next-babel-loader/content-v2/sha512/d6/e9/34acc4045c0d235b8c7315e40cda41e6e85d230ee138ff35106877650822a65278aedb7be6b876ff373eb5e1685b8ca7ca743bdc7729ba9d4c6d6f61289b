{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/Stuart/workspace/use-calendar/pages/index.tsx\";\nimport { ChevronLeftIcon, ChevronRightIcon } from \"@chakra-ui/icons\";\nimport { Box, Button, Container, Flex, IconButton, SimpleGrid, Text } from \"@chakra-ui/react\";\nimport DateFnsAdapter from \"@date-io/date-fns\";\nimport addDays from \"date-fns/addDays\";\nimport addMonths from \"date-fns/addMonths\";\nimport format from \"date-fns/format\";\nimport isSameDay from \"date-fns/isSameDay\";\nimport isValid from \"date-fns/isValid\";\nimport enGB from \"date-fns/locale/en-GB\";\nimport enUS from \"date-fns/locale/en-US\";\nimport es from \"date-fns/locale/es\";\nimport { useRouter } from \"next/router\";\nimport React from \"react\";\nimport useCalendar from \"src/use-calendar\";\nconst locales = {\n  \"en-GB\": enGB,\n  \"en-US\": enUS,\n  es\n};\nconst events = [{\n  title: \"Today\",\n  start: new Date()\n}, {\n  title: \"Today\",\n  start: new Date()\n}, {\n  title: \"Tomorrow\",\n  start: addDays(new Date(), 1)\n}];\n\nconst Calendar = ({\n  d\n}) => {\n  const router = useRouter();\n  const defaultDate = new Date(d);\n  const locale = locales[router.locale];\n  const dateUtils = new DateFnsAdapter({\n    locale\n  });\n  const calendar = useCalendar({\n    dateUtils,\n    defaultDate\n  });\n\n  const handlePrevClick = () => {\n    const d = format(addMonths(calendar.date, -1), \"yyyy-MM\");\n    router.replace(`?d=${d}`, undefined, {\n      shallow: true\n    });\n    calendar.navigatePrev();\n  };\n\n  const handleNextClick = () => {\n    const d = format(addMonths(calendar.date, 1), \"yyyy-MM\");\n    router.replace(`?d=${d}`, undefined, {\n      shallow: true\n    });\n    calendar.navigateNext();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxW: \"lg\",\n    py: 8,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      overflow: \"hidden\",\n      borderRadius: \"lg\",\n      borderWidth: \"1px\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        py: 4,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"Prev\",\n          icon: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n            boxSize: 8\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this),\n          onClick: handlePrevClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          width: \"200px\",\n          fontWeight: \"bold\",\n          textAlign: \"center\",\n          textTransform: \"uppercase\",\n          children: calendar.month.monthAndYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"Next\",\n          icon: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n            boxSize: 8\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }, this),\n          onClick: handleNextClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SimpleGrid, {\n        columns: 7,\n        children: [calendar.weekdays.map(({\n          weekdayShort\n        }, i) => /*#__PURE__*/_jsxDEV(Flex, {\n          justifyContent: \"center\",\n          p: 2,\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            fontWeight: \"bold\",\n            textTransform: \"uppercase\",\n            children: weekdayShort\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)), calendar.days.map((day, i) => /*#__PURE__*/_jsxDEV(Flex, {\n          p: 1,\n          minHeight: \"100px\",\n          flexDirection: \"column\",\n          bg: day.isOutsideMonth ? \"gray.50\" : \"white\",\n          borderColor: \"gray.200\",\n          borderTopWidth: \"1px\",\n          borderRightWidth: (i + 1) % 7 === 0 ? \"0px\" : \"1px\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            flex: 1,\n            width: \"100%\",\n            fontSize: \"sm\",\n            textAlign: \"right\",\n            fontWeight: day.isToday ? \"bold\" : \"normal\",\n            children: day.dayOfMonth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), events.filter(ev => isSameDay(ev.start, day.date)).map(ev => /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"xs\",\n              colorScheme: \"blue\",\n              isFullWidth: true,\n              children: ev.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 19\n          }, this))]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\nexport const getServerSideProps = async context => {\n  const date = new Date(String(context.query.d));\n  return {\n    props: {\n      d: format(isValid(date) ? date : new Date(), \"yyyy-MM\")\n    }\n  };\n};\nexport default Calendar;","map":{"version":3,"sources":["/Users/Stuart/workspace/use-calendar/pages/index.tsx"],"names":["ChevronLeftIcon","ChevronRightIcon","Box","Button","Container","Flex","IconButton","SimpleGrid","Text","DateFnsAdapter","addDays","addMonths","format","isSameDay","isValid","enGB","enUS","es","useRouter","React","useCalendar","locales","events","title","start","Date","Calendar","d","router","defaultDate","locale","dateUtils","calendar","handlePrevClick","date","replace","undefined","shallow","navigatePrev","handleNextClick","navigateNext","month","monthAndYear","weekdays","map","weekdayShort","i","days","day","isOutsideMonth","isToday","dayOfMonth","filter","ev","getServerSideProps","context","String","query","props"],"mappings":"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","sourcesContent":["import { ChevronLeftIcon, ChevronRightIcon } from \"@chakra-ui/icons\";\nimport {\n  Box,\n  Button,\n  Container,\n  Flex,\n  IconButton,\n  SimpleGrid,\n  Text,\n} from \"@chakra-ui/react\";\nimport DateFnsAdapter from \"@date-io/date-fns\";\nimport addDays from \"date-fns/addDays\";\nimport addMonths from \"date-fns/addMonths\";\nimport format from \"date-fns/format\";\nimport isSameDay from \"date-fns/isSameDay\";\nimport isValid from \"date-fns/isValid\";\nimport enGB from \"date-fns/locale/en-GB\";\nimport enUS from \"date-fns/locale/en-US\";\nimport es from \"date-fns/locale/es\";\nimport { GetServerSideProps, NextPage } from \"next\";\nimport { useRouter } from \"next/router\";\nimport React from \"react\";\nimport useCalendar from \"src/use-calendar\";\n\nconst locales = {\n  \"en-GB\": enGB,\n  \"en-US\": enUS,\n  es,\n};\n\nconst events = [\n  {\n    title: \"Today\",\n    start: new Date(),\n  },\n  {\n    title: \"Today\",\n    start: new Date(),\n  },\n  {\n    title: \"Tomorrow\",\n    start: addDays(new Date(), 1),\n  },\n];\n\ninterface Props {\n  d: string;\n}\n\nconst Calendar: NextPage<Props> = ({ d }) => {\n  const router = useRouter();\n  const defaultDate = new Date(d);\n  const locale = locales[router.locale];\n  const dateUtils = new DateFnsAdapter({ locale });\n  const calendar = useCalendar({ dateUtils, defaultDate });\n\n  const handlePrevClick = () => {\n    const d = format(addMonths(calendar.date, -1), \"yyyy-MM\");\n    router.replace(`?d=${d}`, undefined, { shallow: true });\n    calendar.navigatePrev();\n  };\n\n  const handleNextClick = () => {\n    const d = format(addMonths(calendar.date, 1), \"yyyy-MM\");\n    router.replace(`?d=${d}`, undefined, { shallow: true });\n    calendar.navigateNext();\n  };\n\n  return (\n    <Container maxW=\"lg\" py={8}>\n      <Box bg=\"white\" overflow=\"hidden\" borderRadius=\"lg\" borderWidth=\"1px\">\n        <Flex alignItems=\"center\" justifyContent=\"center\" py={4}>\n          <IconButton\n            aria-label=\"Prev\"\n            icon={<ChevronLeftIcon boxSize={8} />}\n            onClick={handlePrevClick}\n          />\n          <Text\n            width=\"200px\"\n            fontWeight=\"bold\"\n            textAlign=\"center\"\n            textTransform=\"uppercase\"\n          >\n            {calendar.month.monthAndYear}\n          </Text>\n          <IconButton\n            aria-label=\"Next\"\n            icon={<ChevronRightIcon boxSize={8} />}\n            onClick={handleNextClick}\n          />\n        </Flex>\n        <SimpleGrid columns={7}>\n          {calendar.weekdays.map(({ weekdayShort }, i) => (\n            <Flex key={i} justifyContent=\"center\" p={2}>\n              <Text fontSize=\"sm\" fontWeight=\"bold\" textTransform=\"uppercase\">\n                {weekdayShort}\n              </Text>\n            </Flex>\n          ))}\n          {calendar.days.map((day, i) => (\n            <Flex\n              key={i}\n              p={1}\n              minHeight=\"100px\"\n              flexDirection=\"column\"\n              bg={day.isOutsideMonth ? \"gray.50\" : \"white\"}\n              borderColor=\"gray.200\"\n              borderTopWidth=\"1px\"\n              borderRightWidth={(i + 1) % 7 === 0 ? \"0px\" : \"1px\"}\n            >\n              <Text\n                flex={1}\n                width=\"100%\"\n                fontSize=\"sm\"\n                textAlign=\"right\"\n                fontWeight={day.isToday ? \"bold\" : \"normal\"}\n              >\n                {day.dayOfMonth}\n              </Text>\n              {events\n                .filter((ev) => isSameDay(ev.start, day.date))\n                .map((ev) => (\n                  <Box>\n                    <Button size=\"xs\" colorScheme=\"blue\" isFullWidth>\n                      {ev.title}\n                    </Button>\n                  </Box>\n                ))}\n            </Flex>\n          ))}\n        </SimpleGrid>\n      </Box>\n    </Container>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  const date = new Date(String(context.query.d));\n\n  return {\n    props: {\n      d: format(isValid(date) ? date : new Date(), \"yyyy-MM\"),\n    },\n  };\n};\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}